{"version":3,"file":"script/element.bundle.js","mappings":"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","sources":["webpack://elements/./src/modules/weatherData.js","webpack://elements/./src/modules/weatherDisplay.js","webpack://elements/./src/app.js"],"sourcesContent":["import {\n  dailyWeatherDisplay,\n  currentWeatherDisplay,\n  locationDisplay,\n} from \"./weatherDisplay\";\n\nlet lat = 0;\nlet lon = 0;\n\nasync function getLocationCoordinates() {\n  const location = document.getElementById(\"search\");\n\n  const coordinates = await fetch(\n    \"https://api.openweathermap.org/geo/1.0/direct?q=\" +\n      location.value +\n      \"&limit=1&appid=56ee2236b5d006c6606bcbf8167154c3\",\n    { mode: \"cors\" }\n  );\n\n  const result = await coordinates.json();\n\n  locationDisplay(result[0]);\n\n  lat = result[0].lat;\n  lon = result[0].lon;\n\n  getWeatherData().catch((err) => console.log(err));\n}\n\nasync function getWeatherData() {\n  const weather = await fetch(\n    \"https://api.openweathermap.org/data/2.5/onecall?lat=\" +\n      lat +\n      \"&lon=\" +\n      lon +\n      \"&exclude=minutely,hourly,alerts&appid=56ee2236b5d006c6606bcbf8167154c3&units=metric\",\n    { mode: \"cors\" }\n  );\n  const result = await weather.json();\n\n  currentWeatherDisplay(result);\n  dailyWeatherDisplay(result);\n}\n\nexport { getLocationCoordinates };\n","function locationDisplay(data) {\n  const locationPara = document.getElementById(\"location\");\n  locationPara.textContent = `${data.name} / ${data.state}`;\n}\n\nfunction currentWeatherDisplay(data) {\n  const icon = document.getElementById(\"current-weather-icon\");\n  const temp = document.getElementById(\"temp\");\n  const description = document.getElementById(\"current-weather-description\");\n  const feelsLike = document.getElementById(\"feels-like\");\n  const humidity = document.getElementById(\"humidity\");\n  const windSpeed = document.getElementById(\"wind-speed\");\n\n  icon.src = `https://openweathermap.org/img/wn/${data.current.weather[0].icon}@2x.png`;\n  icon.alt = \"current weather icon\";\n  temp.textContent = `${Math.round(data.current.temp)}째`;\n  description.textContent = `${data.current.weather[0].description}`;\n  feelsLike.textContent = `${Math.round(data.current.feels_like)}째`;\n  humidity.textContent = `${data.current.humidity}%`;\n  windSpeed.textContent = `${Math.round(data.current.wind_speed)} m/s`;\n}\n\nfunction dailyWeatherDisplay(data) {\n  removePreviousDailyForecast();\n\n  for (let i = 1; i < data.daily.length; i++) {\n    const dailyCardContainer = document.getElementById(\"daily-forecast\");\n\n    const dailyCard = document.createElement(\"div\");\n    const dailyDay = document.createElement(\"p\");\n    const dailyIcon = document.createElement(\"img\");\n    const temp = document.createElement(\"p\");\n    const description = document.createElement(\"p\");\n\n    dailyCard.classList.add(\"daily-card\");\n    dailyDay.classList.add(\"daily-day\");\n    dailyIcon.classList.add(\"daily-icon\");\n    temp.classList.add(\"daily-temp\");\n    description.classList.add(\"daily-description\");\n\n    dailyDay.textContent = `D${i}`;\n    dailyIcon.src = `https://openweathermap.org/img/w/${data.daily[i].weather[0].icon}.png`;\n    temp.textContent = `${Math.round(data.daily[i].temp.min)}째 / ${Math.round(\n      data.daily[i].temp.max\n    )}째`;\n    description.textContent = `${data.daily[i].weather[0].description}`;\n\n    dailyCardContainer.appendChild(dailyCard);\n    dailyCard.appendChild(dailyDay);\n    dailyCard.appendChild(dailyIcon);\n    dailyCard.appendChild(temp);\n    dailyCard.appendChild(description);\n  }\n}\n\nfunction removePreviousDailyForecast() {\n  const previousDailyCards = document.querySelectorAll(\".daily-card\");\n\n  previousDailyCards.forEach((element) => {\n    if (element !== undefined) {\n      element.remove();\n    }\n  });\n}\n\nexport { locationDisplay, currentWeatherDisplay, dailyWeatherDisplay };\n","import \"./stylesheets/reset.css\";\nimport \"./stylesheets/index.scss\";\nimport { getLocationCoordinates } from \"./modules/weatherData\";\n\n// PWA functionality\nif (\"serviceWorker\" in navigator && \"PushManager\" in window) {\n  navigator.serviceWorker\n    .register(\"./sw.js\")\n    .catch((err) => console.log(\"Service Worker Not Registered\", err));\n}\n\nNotification.requestPermission(function (status) {\n  if (status === \"granted\") {\n    checkWeatherNotification();\n  }\n});\n\nconst searchBtn = document.getElementById(\"submit\");\nsearchBtn.addEventListener(\"click\", app);\n\nconst searchBar = document.getElementById(\"search\");\nsearchBar.addEventListener(\"keypress\", (e) => {\n  if (e.key === \"Enter\") {\n    app();\n  }\n});\n\nfunction app() {\n  getLocationCoordinates().catch((err) => {\n    console.log(err);\n  });\n}\n\nfunction checkWeatherNotification() {\n  const notifTitle = \"Elements\";\n  const notifBody = `Check Elements to stay up to date on the current weather`;\n  const notifImg = `../public/assets/images/android-chrome-512x512.png`;\n  const options = {\n    body: notifBody,\n    icon: notifImg,\n  };\n  new Notification(notifTitle, options);\n  setInterval(checkWeatherNotification, 86400000);\n}\n"],"names":["lat","lon","async","getLocationCoordinates","location","document","getElementById","coordinates","fetch","value","mode","result","json","data","textContent","name","state","weather","icon","temp","description","feelsLike","humidity","windSpeed","src","current","alt","Math","round","feels_like","wind_speed","currentWeatherDisplay","querySelectorAll","forEach","element","undefined","remove","i","daily","length","dailyCardContainer","dailyCard","createElement","dailyDay","dailyIcon","classList","add","min","max","appendChild","dailyWeatherDisplay","getWeatherData","catch","err","console","log","app","checkWeatherNotification","Notification","body","setInterval","navigator","window","serviceWorker","register","requestPermission","status","addEventListener","e","key"],"sourceRoot":""}